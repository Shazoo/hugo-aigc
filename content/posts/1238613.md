+++
title = "C++中\".\"运算符和\"->\"运算符的区别"
slug = "C++中\".\"运算符和\"->\"运算符的区别"
date = "2023-09-04T06:11:29+08:00"
tags = [ "operators", "c++",]
thumbnail = "/images/c++.256x256.png"
featureImage = "/images/c++.256x256.png"
+++


## 摘要
本教程将介绍C++中"."运算符和"->"运算符的区别。"."运算符用于直接访问成员，而"->"运算符用于首先解引用指针，然后访问所指向的对象的成员。

## 内容
### "."运算符和"->"运算符的应用场景
在C++中，"."运算符用于直接访问对象的成员，而"->"运算符用于首先解引用指针，然后访问所指向的对象的成员。具体的使用场景如下所示：

- "."运算符用于访问对象的成员，例如：

  ```cpp
  object.Field
  ```

- "->"运算符用于解引用指针并访问所指向的对象的成员，例如：

  ```cpp
  pClass->Field
  ```

或者可以等价地写为：

  ```cpp
  (*pClass).Field
  ```

### 示例代码
下面是一些示例代码，用来说明"."运算符和"->"运算符的用法。

```cpp
std::string str("foo");
std::string * pstr = new std::string("foo");

str.size ();
pstr->size ();
```

上述代码中，可以看到对于对象str，我们可以使用"."运算符来访问其成员；而对于指针pstr，我们需要使用"->"运算符来解引用指针并访问所指向的对象的成员。

### 注意事项
需要注意的是，"->"运算符不能用于某些情况，例如访问operator[]运算符。

```cpp
#include <vector>

int main()
{
   std::vector<int> iVec;
   iVec.push_back(42);
   std::vector<int>* iVecPtr = &iVec;

   //int i = iVecPtr->[0]; // 无法编译通过
   int i = (*iVecPtr)[0]; // 编译通过
}
```

上述代码中，如果使用"->"运算符访问operator[]运算符的话，无法编译通过，所以需要使用"(*iVecPtr)[0]"进行访问。

## 总结
本文介绍了C++中"."运算符和"->"运算符的区别和用法。"."运算符用于直接访问对象的成员，而"->"运算符用于首先解引用指针，然后访问所指向的对象的成员。希望本文能够帮助你理解和正确使用这两个运算符。


